/* ================================
   Custom properties
   ================================ */
:root {
  --accent-color: #800000;
  --gradient-color: #f6bb73;
  --light_menu: white;
  --mid_menu: antiquewhite;
  --dark_menu: black;
}

/* ================================
   Reset and base
   ================================ */
* { margin: 0; padding: 0; box-sizing: border-box; }

body {
  font-family: Arial, Helvetica, sans-serif;
  font-size: calc(15px + .2vw);
  width: min(80%, 1024px);
  line-height: 1.5;
  margin: auto;
  border: 2px solid var(--accent-color);
  display: grid;
  grid-template-columns: 1fr;
  grid-template-rows: auto auto auto auto;
  grid-template-areas: "header" "navbar" "main" "footer";
}

h1, h2, h3, p, ul { padding: 0.25em 0; }
ul { margin-left: 2em; }
a:hover, a:focus { font-style: italic; color: var(--accent-color); }
h1 { font-size: 150%; }
h2 { font-size: 130%; color: var(--accent-color); }
h3 { font-size: 105%; }

/* ================================
   Header
   ================================ */
header {
  text-align: center;
  line-height: 1.2;
  border-bottom: 2px solid var(--accent-color);
  background-image: linear-gradient(30deg, var(--gradient-color) 0%, white 30%, white 65%, var(--gradient-color) 100%);
  grid-area: header;
}
header h2 { font-size: 175%; padding: .5em 0 0 0; }
header h3 { font-size: 130%; font-style: italic; padding-bottom: 1em; }
header img { display: none; }

/* ================================
   Navbar base
   ================================ */
.navbar {
  clear: left;
  position: relative;
  background-color: var(--accent-color);
  grid-area: navbar;
}
.navbar a {
  display: block;
  padding: 1em;
  text-decoration: none;
  margin: 0 2px 2px 0;
}
.navbar a:link,
.navbar a:visited { color: var(--light_menu); }
.navbar a:hover,
.navbar a:focus,
.navbar a:not([href]) { background-color: var(--mid_menu); color: var(--dark_menu); }
.navbar ul { list-style-type: none; padding: 0; margin: 0; }

/* Menu + toggle */
.menu {
  position: absolute;
  left: 0;
  top: 100%;
  background-color: var(--accent-color);
  width: 85%;
  display: none;
  flex-direction: column;
  z-index: 1000;
  padding: 0.5em 0;
  box-shadow: 0 4px 8px rgba(0,0,0,0.2);
  transition: opacity 0.2s ease, transform 0.2s ease;
  opacity: 0;
  transform: translateY(-4px);
}
#checkbox-toggle { display: none; }
.menu-btn { display: block; padding: 1em; color: var(--light_menu); }
.menu-btn::after { content: "\2630"; } /* hamburger */
#checkbox-toggle:checked ~ .menu { display: flex; opacity: 1; transform: translateY(0); }
#checkbox-toggle:checked ~ .menu-btn::after { content: "\2716"; } /* close */

/* Submenu */
.submenu { position: relative; }
.submenu small { margin-left: 0.25em; }
.submenu small::after { content: "\25b6"; } /* right triangle (mobile default) */

.dropdown {
  display: none;
  background-color: var(--accent-color);
  color: var(--light_menu);
  position: static; /* mobile: stack under parent */
}
.dropdown > li a { margin: 2px; display: block; white-space: nowrap; }

/* Toggle class used by JS */
.dropdown.open { display: block; }

/* ================================
   Layout and other sections (keep your existing rules)
   ================================ */

/* ================================
   Media queries
   ================================ */

/* Header image at wider screens */
@media (min-width: 658px) {
  header { text-align: left; }
  header img {
    display: block;
    width: clamp(40px, 15%, 80px);
    float: left;
    margin: 0.75em 1em;
  }
}

/* Desktop nav: show full menubar, hover/focus triangles, dropdowns positioned */
@media (min-width: 893px) {
  /* Menu visible and horizontal */
  .menu {
    position: relative;
    top: auto;
    width: 100%;
    display: flex;
    flex-direction: row;
    justify-content: space-around;
    padding: 0.5em 0;
    box-shadow: 0 4px 8px rgba(0,0,0,0.2);
    opacity: 1;
    transform: none;
  }

  .menu li { border-bottom: 1px solid var(--mid_menu); padding: 0.5em 1em; }
  .menu a { color: var(--light_menu); text-align: left; }
  .menu-btn { display: none; }

  .submenu small::after { content: "\25bc"; } /* down triangle (desktop) */

  /* Desktop dropdown: positioned under parent */
  .submenu { position: relative; }
  .dropdown {
    position: absolute;
    top: 100%;
    left: 0;
    min-width: 200px;
    display: none;
    box-shadow: 0 4px 8px rgba(0,0,0,0.2);
    z-index: 1000;
  }
  .dropdown > li a { padding: 0.5em 1em; }

  /* Keyboard support: focusing the toggle shows dropdown via JS class. */
}

/* Content grid at tablet+ */
@media (min-width: 600px) {
  main {
    display: grid;
    grid-template-columns: 1fr 2fr; /* aside left, featured right */
    grid-template-areas: "aside featured" "aside mission";
    column-gap: 1em;
  }
  aside { grid-area: aside; }
  .featured { grid-area: featured; }
  #mission { grid-area: mission; margin-top: 1em; }
}
